<!DOCTYPE html>
<html class="fancyScroll">
<head>
  <meta charset="utf-8">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  
  <link href="../../../css/vuetify.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

  <title>LTE Examples </title>
  <meta name="description" content="">

  <script src="../../../js/smooth-scroll.js"></script>
  <link href="../../../css/doc-theme.css%3F.css" rel="stylesheet">
  <link rel="icon" href="../../../favicon.ico">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
</head>
<body>
</script>
<v-app id="app" class=""  v-cloak style="background-color: white;">
   <v-navigation-drawer
  v-model="drawer"
  fixed
  app
  class="lighten-4 pt-0"
  style="overflow-y: hidden; overflow-x: hidden;margin-top:68px;"
>

  <div class="fancyScroll pa-0 ma-0" style="overflow-y: scroll; overflow-x: hidden;
      max-height: 100%;" >

    <v-divider class="mr-2 ml-1 mb-4" style="border: 0"></v-divider>

      <ul class="lefttree">
        <li class="lefttree">
            <a href="../../../index.html" class="beba" style="color: #1E1E3C; text-decoration: none;" >
              <v-icon style="color: #1E1E3C;">home</v-icon> Introduction</a>
        </li>
      </ul>

    


<ul class="lefttree ">

  
  
  
  
  


    <li class="lefttree ">
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../gettingstarted/registration/lora/helium_hotspot_registration/index.html" class="">Pycom Helium Miner</a>
    </li>

  

  
  
  
  
  


    <li class="lefttree ">
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../products/index.html" class="">Pycom Products</a>
    </li>

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../gettingstarted/index.html" class="">  Getting Started</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree padleft hot" >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../index.html" class="hot">  Tutorials &amp; Examples</a>
      
      
        


<ul class="lefttree ">

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../basic/index.html" class="">  Basic</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../hardware/index.html" class="">  Hardware</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree padleft hot" >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../index.html" class="hot">  Networks</a>
      
      
        


<ul class="lefttree ">

  
  
  
  
  


    <li class="lefttree ">
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../wlan.html" class="">WiFi</a>
    </li>

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../ble.html" class="">  BLE</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../sigfox.html" class="">  SigFox</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../lora/index.html" class="">  LoRa</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree padleft hot" >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="index.html" class="hot">  LTE</a>
      
      
        


<ul class="lefttree ">

  
  
  
  
  


    <li class="lefttree ">
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="power/index.html" class="">Power Saving Mode</a>
    </li>

  

</ul>

      

      
    </li>
      

  

  
  
  
  
  


    <li class="lefttree ">
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../ethernet/index.html" class="">Ethernet</a>
    </li>

  

</ul>

      

      
    </li>
      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../networkprotocols/index.html" class="">  Network Protocols</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../expansionboards/index.html" class="">  Shields</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../pynode/index.html" class="">  PyNode&#43;</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../advanced/index.html" class="">  Advanced</a>
      
      

      

  

</ul>

      

      
    </li>
      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../firmwareapi/index.html" class="">  Firmware &amp; API Reference</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../datasheets/index.html" class="">  Product Info, Datasheets</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../updatefirmware/index.html" class="">  Update Firmware</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../pybytes/index.html" class="">  Pybytes</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../cellularservices/index.html" class="">  Cellular Services</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../pylife/index.html" class="">  Pylife</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../pymesh.html" class="">  Pymesh</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../docnotes/index.html" class="">  Micropython Support</a>
      
      

      

  

  
  
  
  
  

  
    <li class="lefttree " >
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../advance/downgrade.html" class="">  Advanced topics</a>
      
      

      

  

  
  
  
  
  


    <li class="lefttree ">
      <v-icon style="color: transparent; display: hidden;" >done</v-icon>
      <a href="../../../license/index.html" class="">License</a>
    </li>

  

</ul>


    <v-divider class="grey lighten-1 ma-2 mt-4 mb-4"></v-divider>

    <ul class="lefttree" >Have a question ?
      <li class="lefttree">  <a href="https://forum.pycom.io">Ask on the forum</a>
    </ul>
    <p>&nbsp;</p>
      <p>&nbsp;</p>
  </div>
</v-navigation-drawer>
<v-toolbar
  app
  fixed
  height=68
  class="pr-3 pl-2 navbar"
  dark
  style="background-color: #171730;"
  flat
>
  <v-toolbar-title style="width: 260px; " class="ml-4 pl-0  pt-2 text-xs-center hidden-sm-and-down">
    <v-img class="ml-4"  height=48 width=190  src="/logo.svg" class="">
  </v-toolbar-title>

    <v-btn icon @click.stop="drawer = !drawer" style="z-index: 1200;">
      <v-icon>toc</v-icon>
    </v-btn>
    <span class="beba" style="font-size: 1.6rem; opacity: 0.85;">
        LTE Examples
    </span>

  <v-text-field
    style="max-width: 650px"
    class="ml-3 algolia-search-field"
    light
    hide-details
    label="Search the docs..."
    solo
    append-icon="search"
  ></v-text-field>

  <v-spacer></v-spacer>
  <v-btn icon ref="tocBtn" @click.stop="drawer2 = !drawer2" >
    <v-icon style="color: rgb(23, 255, 189);">more_vert</v-icon>
  </v-btn>
  
</v-toolbar>
<v-content >
      <v-container class="fluid pa-4" style="padding-top: 0 !important;">
          <v-container class="ma-1 pa-1"><v-slide-y-transition>
    <v-card class="menu-contextual" v-if="drawer2" @click.stop="drawer2 = !drawer2">
      <v-card-title class="beba" style="height: 68px; background-color: #1E1E3C; color: #17FFBD">
        What's in this document
        <v-btn icon @click.stop="drawer2 = !drawer2" style="color: #17FFBD; position: absolute; right: 0; top: 4px;;">
          <v-icon>more_vert</v-icon>
        </v-btn>


      </v-card-title>
      <v-card-text class="fancyScroll righttree">
    <nav id="TableOfContents">
  <ul>
    <li class="righttree"><a href="index.html#general-remarks">General remarks</a></li>
    <li class="righttree"><a href="index.html#example">Example</a></li>
    <li class="righttree"><a href="index.html#pycom-simcard">Pycom simcard</a></li>
    <li class="righttree"><a href="index.html#lte-connectivity-loss">LTE Connectivity loss</a></li>
    <li class="righttree"><a href="index.html#lte-troubleshooting-guide">LTE Troubleshooting guide</a>
      <ul>
        <li class="righttree"><a href="index.html#debug-output">Debug output</a></li>
        <li class="righttree"><a href="index.html#first-attach-can-be-slow">First attach can be slow</a></li>
        <li class="righttree"><a href="index.html#problems-after-firmware-downgrade">Problems after Firmware downgrade</a></li>
        <li class="righttree"><a href="index.html#state-transitions">State transitions</a></li>
        <li class="righttree"><a href="index.html#full-fsm-log">Full FSM log</a></li>
        <li class="righttree"><a href="index.html#potential-other-errors">Potential other errors</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </v-card-text>
    </v-card>
</v-slide-y-transition>





<v-card flat class="DocSearch-content">
  <v-card-text>
    
    








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  


</ul>

    

  


</ul>

    

  






  
  

  

  
      

      <a href="../../index.html" class="bread hot">  Tutorials &amp; Examples</a>
        >
      
        








  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      

      <a href="../index.html" class="bread hot">  Networks</a>
        >
      
        








  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      

      <a href="index.html" class="bread hot">  LTE</a>
        
      
        








  
  

  

  
    

      

  
  


</ul>

    


    

  






  
  

  

  
    

      

  
  


</ul>

    


    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  


</ul>

    

  


</ul>

    


    

  






  
  

  

  
      
        








  
  

  

  
      
        








  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
      
        








  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  


</ul>

    

  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
      
        








  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
      
        








  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  






  
  

  

  
    

      

  
  


</ul>

    

  






  
  

  

  
    

      

  
  


</ul>

    
    <h1>LTE Examples</h1><p>The following tutorial demonstrates the use of the LTE CAT-M1 and NB-IoT functionality on cellular enabled Pycom modules.</p>
<blockquote>
<p>Before you start, make sure that your Simcard is registered and activated with your carrier.</p>
</blockquote>
<p>This page discusses the usage of the LTE modem in more detail:</p>
<ul>
<li><a href="index.html#general-remarks">General remarks</a></li>
<li><a href="index.html#example">Connection example</a></li>
<li><a href="index.html#pycom-simcard">Pycom simcard</a></li>
<li><a href="index.html#lte-connectivity-loss">LTE Connectivity loss</a></li>
<li><a href="index.html#lte-troubleshooting-guide">Connection troubleshooting guide</a></li>
</ul>
<h2 id="general-remarks">General remarks</h2>
<p>The LTE modem needs to run a specific firmware depending on the network you want to use. To check the current modem firmware, you can use the following</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007020;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">sqnsupgrade</span>
<span style="color:#007020;font-weight:bold">print</span>(sqnsupgrade<span style="color:#666">.</span>info())
</code></pre></div><p>or</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007020;font-weight:bold">from</span> <span style="color:#0e84b5;font-weight:bold">network</span> <span style="color:#007020;font-weight:bold">import</span> LTE
lte <span style="color:#666">=</span> LTE()
<span style="color:#007020;font-weight:bold">print</span>(lte<span style="color:#666">.</span>send_at_cmd(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">ATI1</span><span style="color:#4070a0">&#39;</span>))
</code></pre></div><p>The bottom two lines explain the LTE firmware edition:</p>
<ul>
<li>LR5.xx is for CAT-M1</li>
<li>LR6.xx is for NB-IoT</li>
</ul>
<p>Check the <a href="../../../updatefirmware/ltemodem/index.html">LTE modem update</a> page on how to get the correct version loaded.</p>
<hr>
<p>When using the LTE network, <strong>Always</strong> connect the appropriate antenna to your device. See the figures below for the correct antenna placement.</p>
<table>
<thead>
<tr>
<th>Gpy</th>
<th>Fipy</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../../../gitbook/assets/lte_ant_gpy.png" alt=""></td>
<td><img src="../../../gitbook/assets/lte_ant_fipy.png" alt=""></td>
</tr>
</tbody>
</table>
<p>GPy and FiPy support both LTE CAT-M1 and NB-IoT. These are newer, low power, long range, cellular protocols. They are not the same as the full version of 2G/3G/LTE supported by cell phones, and require your local carriers to support them. At the time of writing, CAT-M1 and NB-IoT connectivity is not widely available so be sure to check with local carriers if support is available where you are. Together with the SIM card, the provider will supply you with configuration details: Usually band and APN. Use these in the example code below.</p>
<h2 id="example">Example</h2>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007020;font-weight:bold">from</span> <span style="color:#0e84b5;font-weight:bold">network</span> <span style="color:#007020;font-weight:bold">import</span> LTE
<span style="color:#007020;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">time</span>
<span style="color:#007020;font-weight:bold">import</span> <span style="color:#0e84b5;font-weight:bold">socket</span>

lte <span style="color:#666">=</span> LTE()
<span style="color:#60a0b0;font-style:italic">#some carriers have special requirements, check print(lte.send_at_cmd(&#34;AT+SQNCTM=?&#34;)) to see if your carrier is listed.</span>
<span style="color:#60a0b0;font-style:italic">#when using verizon, use</span>
<span style="color:#60a0b0;font-style:italic">#lte.init(carrier=verizon)</span>
<span style="color:#60a0b0;font-style:italic">#when usint AT&amp;T use,</span>
<span style="color:#60a0b0;font-style:italic">#lte.init(carrier=at&amp;t)</span>

<span style="color:#60a0b0;font-style:italic">#some carriers do not require an APN</span>
<span style="color:#60a0b0;font-style:italic">#also, check the band settings with your carrier</span>
lte<span style="color:#666">.</span>attach(band<span style="color:#666">=</span><span style="color:#40a070">20</span>, apn<span style="color:#666">=</span><span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">your apn</span><span style="color:#4070a0">&#34;</span>)
<span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">attaching..</span><span style="color:#4070a0">&#34;</span>,end<span style="color:#666">=</span><span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">&#39;</span>)
<span style="color:#007020;font-weight:bold">while</span> <span style="color:#007020;font-weight:bold">not</span> lte<span style="color:#666">.</span>isattached():
    time<span style="color:#666">.</span>sleep(<span style="color:#40a070">0.25</span>)

    <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">.</span><span style="color:#4070a0">&#39;</span>,end<span style="color:#666">=</span><span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">&#39;</span>)
    <span style="color:#007020;font-weight:bold">print</span>(lte<span style="color:#666">.</span>send_at_cmd(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">AT!=</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">fsm</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">&#39;</span>))         <span style="color:#60a0b0;font-style:italic"># get the System FSM</span>
<span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">attached!</span><span style="color:#4070a0">&#34;</span>)

lte<span style="color:#666">.</span>connect()
<span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">connecting [##</span><span style="color:#4070a0">&#34;</span>,end<span style="color:#666">=</span><span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">&#39;</span>)
<span style="color:#007020;font-weight:bold">while</span> <span style="color:#007020;font-weight:bold">not</span> lte<span style="color:#666">.</span>isconnected():
    time<span style="color:#666">.</span>sleep(<span style="color:#40a070">0.25</span>)
    <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">#</span><span style="color:#4070a0">&#39;</span>,end<span style="color:#666">=</span><span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">&#39;</span>)
    <span style="color:#60a0b0;font-style:italic">#print(lte.send_at_cmd(&#39;AT!=&#34;showphy&#34;&#39;))</span>
    <span style="color:#007020;font-weight:bold">print</span>(lte<span style="color:#666">.</span>send_at_cmd(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">AT!=</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">fsm</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">&#39;</span>))
<span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">] connected!</span><span style="color:#4070a0">&#34;</span>)

<span style="color:#007020;font-weight:bold">print</span>(socket<span style="color:#666">.</span>getaddrinfo(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">pybytes.pycom.io</span><span style="color:#4070a0">&#39;</span>, <span style="color:#40a070">80</span>))  
lte<span style="color:#666">.</span>deinit()
<span style="color:#60a0b0;font-style:italic">#now we can safely machine.deepsleep()</span>
</code></pre></div><p>The last line of the script should return a tuple containing the IP address of the Pycom webserver.</p>
<blockquote>
<p>Note: the first time, it can take a long while to attach to the network.</p>
</blockquote>
<h2 id="pycom-simcard">Pycom simcard</h2>
<p>When using the Pycom simcard, you can use the above example to connect to the Vodafone LTE network using <code>apn=pycom.io</code> and the correct band. Leaving the band open will allow the modem to scan all available bands, which can take very long. You can use the Pycom simcard to relay your signal data to Pybytes using the <a href="../../../pybytes/api/index.html">Pybytes API</a>. More information about the Pycom simcard can be found in the <a href="https://pycom.io/product/vodafone-nb-iot-prepaid-subscription/">webshop</a> and in the <a href="https://pycom.io/services/cellular-services/faq-for-vodafone-pycoms-nb-iot-services/">Vodafone simcard FAQ</a>. It is not possible to connect to any other resources on the internet.</p>
<p>In some regions, you might be successful in creating a connection, but receive the following error when sending signals:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007020">OSError</span>: [Errno <span style="color:#40a070">202</span>] EAI_FAIL
<span style="color:#60a0b0;font-style:italic"># Check if the following is true:</span>
<span style="color:#666">&gt;&gt;</span><span style="color:#666">&gt;</span> socket<span style="color:#666">.</span>dnsserver()
(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">0.0.0.0</span><span style="color:#4070a0">&#39;</span>, <span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">0.0.0.0</span><span style="color:#4070a0">&#39;</span>)
</code></pre></div><p>In that case, you will have to manually start the LTE connection using the example above, and set the DNS servers before starting Pybytes. You can add the following lines:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">socket<span style="color:#666">.</span>dnsserver(<span style="color:#40a070">0</span>, <span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">172.31.16.100</span><span style="color:#4070a0">&#39;</span>)
socket<span style="color:#666">.</span>dnsserver(<span style="color:#40a070">1</span>, <span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">172.31.32.100</span><span style="color:#4070a0">&#39;</span>)
<span style="color:#007020;font-weight:bold">print</span>(socket<span style="color:#666">.</span>dnsserver()) <span style="color:#60a0b0;font-style:italic"># Verify if the servers are set correctly</span>
</code></pre></div><h2 id="lte-connectivity-loss">LTE Connectivity loss</h2>
<blockquote>
<p>You need firmware 1.20.2.r2 or later for this functionality</p>
</blockquote>
<p>It is possible that the LTE modem loses connectivity. It could be due to some radio interference, maybe the reception in the location of the module is not too good. Or if the module is being physically moved to another location with worse reception.</p>
<p>If the connectivity is lost this will in general not be reflected when you check <code>lte.isconnected()</code>. However, the lte modem sends a <code>UART break</code> signal. You can receive these events by using the <code>lte_callback</code> functionality. When connectivity is lost, the modem will try it&rsquo;s best to re-establish connectivity and this also works well in general. When connectivity is re-established, the modem will send another break signal, ie, the <code>lte_callback</code> will fire again.</p>
<p>This means the best practice is to capture the callback and inside the callback test whether the module is connected or not. If, with some timeout, there really is no connection, then one can try to react to this. Let&rsquo;s say the application is a sensor, that is most of the time in deepsleep, wakes up once in a while, measures something and then tries to send it&rsquo;s measurement before going back to deepsleep. In this case one could simply log the event, go back to sleep and hope that in the next interval the reception will be better. Or, if there is some alternative connectivity implemented, one could trigger it at this point.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#007020;font-weight:bold">def</span> <span style="color:#06287e">lte_cb_handler</span>(arg):
    ev <span style="color:#666">=</span> arg<span style="color:#666">.</span>events() <span style="color:#60a0b0;font-style:italic"># NB: reading the events also clears them</span>
    <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">LTE CB</span><span style="color:#4070a0">&#34;</span>, time<span style="color:#666">.</span>time(), ev, time<span style="color:#666">.</span>gmtime())
    pycom<span style="color:#666">.</span>rgbled(<span style="color:#40a070">0x222200</span>)
    <span style="color:#007020;font-weight:bold">if</span> ev <span style="color:#666">&amp;</span> LTE<span style="color:#666">.</span>EVENT_BREAK:
        <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">LTE CB</span><span style="color:#4070a0">&#34;</span>, <span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">uart break signal</span><span style="color:#4070a0">&#34;</span>)
    <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">LTE CB</span><span style="color:#4070a0">&#34;</span>, time<span style="color:#666">.</span>time(), <span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">test connection</span><span style="color:#4070a0">&#34;</span>)
    <span style="color:#60a0b0;font-style:italic"># TBD: write your own test_connection function</span>
    <span style="color:#007020;font-weight:bold">if</span> test_connection():
        <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">LTE CB</span><span style="color:#4070a0">&#34;</span>, time<span style="color:#666">.</span>time(), <span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">connection ok</span><span style="color:#4070a0">&#34;</span>)
    <span style="color:#007020;font-weight:bold">else</span>:
        <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">LTE CB</span><span style="color:#4070a0">&#34;</span>, time<span style="color:#666">.</span>time(), <span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">connection not ok</span><span style="color:#4070a0">&#34;</span>)
        <span style="color:#60a0b0;font-style:italic"># TBD: implement handling of lost connection</span>
        <span style="color:#60a0b0;font-style:italic"># machine.deepsleep(deepsleeptime)</span>

lte_callback(LTE<span style="color:#666">.</span>EVENT_BREAK, lte_cb_handler)
</code></pre></div><h2 id="lte-troubleshooting-guide">LTE Troubleshooting guide</h2>
<p>Below you can find a detailed troubleshooting guide discussing</p>
<h3 id="debug-output">Debug output</h3>
<p>When you add <code>debug=True</code> to the initialization, e.g. <code>lte = LTE(debug=True)</code> then the AT commands sent to the modem and the responses will be printed to the REPL. This can help with diagnosing problems with the LTE module.</p>
<h3 id="first-attach-can-be-slow">First attach can be slow</h3>
<p>The first time when the modem tries to attach to the network the scan process can take a long time. This is especially true with NB-IoT. Also it makes a very big difference whether the band to be used is specified with the <code>attach()</code> command with the <code>band</code> or <code>bands</code> parameters. In the worst cases, if many or large bands need to be scanned, this might take in the order of half an hour for the first attach. If the band is not specified, the modem might fall back to scanning all bands which could take even longer or fail altogether. So, it is always advised to specify the band.</p>
<p>When the first attach succeeds the modem will store the frequency internally. Subsequent attach attempts will try the stored frequency first and should attach in seconds. Only if that frequency fails, will the modem fall back to scanning.</p>
<p>After flashing a new firmware or performing a factory reset, the next attach will be a &ldquo;first&rdquo; . Changing operators might imply a &ldquo;first scan&rdquo;. Changes of the geographic location, could in principle also lead to a change of frequency and a &ldquo;first scan&rdquo;, but this is less likely.</p>
<h3 id="problems-after-firmware-downgrade">Problems after Firmware downgrade</h3>
<p>If you downgrade the Pycom firmware from 1.20.2.r2 or any later version to some older version, then you need to manually run this snippet of code, otherwise the firmware will not be able to attach.</p>
<pre><code>```python
from network import LTE
lte = LTE()
print(lte.send_at_cmd('AT+CEREG=2'))
```
</code></pre>
<p>This adjusts the CEREG setting in the LTE modem. This setting determines the verbosity with which the modem reports the registration status. Older firmwares (1.20.2.r1 and earlier) expect this value to be 2. This had always been the default value and so it just worked. Starting with version v1.20.2.r2 the firmware expects a value of 1 and it also configures it that way. So, this also just works.</p>
<p>But, lets say you downgrade from v1.20.2.r2 to v1.20.2.r1 then the modem will remember the new setting of 1 and the older firmware will now fail to detect the attached state and never report <code>lte.isattached()==True</code>. With the lines above you can correct this setting. If in doubt you can check the current setting like this:
<code>python print(lte.send_at_cmd('AT+CEREG?'))</code></p>
<p>It will return something similar to one of these lines:
<code>+CEREG: 2,0 +CEREG: 2,1,&quot;0001&quot;,&quot;01A2D001&quot;,7 +CEREG: 1,4 +CEREG: 1,0</code></p>
<p>In this context we care about that first number. You want this to be 2, like in the first two examples. Then you&rsquo;re good to go with older firmwares.</p>
<h3 id="state-transitions">State transitions</h3>
<p>Below, we review the state transitions of the modem firmware as reported by <code>print(lte.send_at_cmd('AT!=&quot;fsm&quot;'))</code>. If you are having trouble attaching to the network, or getting a connection up and running, this might give some direction into what you are looking for. We are mainly looking at the status of the top two indicators for now.</p>
<ol>
<li>
<p>Before calling <code>lte.attach()</code>, the status will be <code>STOPPED</code>.</p>
<pre><code>SYSTEM FSM
==========
+--------------------------+--------------------+
|            FSM           |        STATE       |
+--------------------------+--------------------+
| RRC TOP FSM              |STOPPED             |
| RRC SEARCH FSM           |NULL                |
| RRC ACTIVE FSM           |NULL                |
| PMM PLMN FSM             |NULL                |
| EMM MAIN FSM             |NULL                |
| EMM AUTH FSM             |NULL                |
| EMM CONN FSM             |NULL                |
| EMM TAU FSM              |NULL                |
| EMM TEST FSM             |NULL                |
| ESM BEARER FSM           |BEARER_NULL         |
| SMS MT FSM               |IDLE                |
| SMS MO FSM               |IDLE                |
| HP MAIN FSM              |IDLE                |
| HP USIM FSM              |READY               |
| HP SMS MO FSM            |IDLE                |
| HP SMS MT FSM            |IDLE                |
| HP CAT FSM               |IDLE                |
+--------------------------+--------------------+
</code></pre></li>
<li>
<p>With no SIM card detected, the <code>RRC TOP FSM</code> will keep status <code>CAMPED</code>. You will see <code>HP USIM FSM</code> marked <code>ABSENT</code>.</p>
<pre><code>SYSTEM FSM
==========
+--------------------------+--------------------+
|            FSM           |        STATE       |
+--------------------------+--------------------+
| RRC TOP FSM              |CAMPED              |
| RRC SEARCH FSM           |CAMPED_ANY          |
| RRC ACTIVE FSM           |IDLE                |
| PMM PLMN FSM             |ANY_CAMPED          |
| EMM MAIN FSM             |NULL                |
| EMM AUTH FSM             |NULL                |
| EMM CONN FSM             |NULL                |
| EMM TAU FSM              |NULL                |
| EMM TEST FSM             |NULL                |
| ESM BEARER FSM           |BEARER_NULL         |
| SMS MT FSM               |IDLE                |
| SMS MO FSM               |IDLE                |
| HP MAIN FSM              |IDLE                |
| HP USIM FSM              |ABSENT              |
| HP SMS MO FSM            |IDLE                |
| HP SMS MT FSM            |IDLE                |
| HP CAT FSM               |NULL                |
+--------------------------+--------------------+
</code></pre></li>
<li>
<p>SIM card inserted and attaching:</p>
<ul>
<li>While <code>SCANNING</code>, the <code>RRC SEARCH FSM</code> goes from <code>WAIT_RSSI</code> to <code>WAIT_CELL_ID</code></li>
<li>Later, the <code>RRC TOP FSM</code> goes from <code>SCANNING</code> to <code>SYNCING</code></li>
<li>There are some states in between not discussed here.</li>
<li>If it is stuck at <code>WAIT_RSSI</code>, check the antenna connection</li>
<li>If the system returns multiple times from <code>SYNCING</code> to <code>CAMPED</code>, check the network availability, simcard placement and / or the firmware version.</li>
</ul>
<pre><code>SYSTEM FSM
==========
+--------------------------+--------------------+
|            FSM           |        STATE       |
+--------------------------+--------------------+
| RRC TOP FSM              |SCANNING            |
| RRC SEARCH FSM           |WAIT_RSSI           |
| RRC ACTIVE FSM           |NULL                |
| PMM PLMN FSM             |NORM_WAITCELL       |
| EMM MAIN FSM             |NULL                |
| EMM AUTH FSM             |NULL                |
| EMM CONN FSM             |NULL                |
| EMM TAU FSM              |NULL                |
| EMM TEST FSM             |NULL                |
| ESM BEARER FSM           |BEARER_NULL         |
| SMS MT FSM               |IDLE                |
| SMS MO FSM               |IDLE                |
| HP MAIN FSM              |IDLE                |
| HP USIM FSM              |READY               |
| HP SMS MO FSM            |IDLE                |
| HP SMS MT FSM            |IDLE                |
| HP CAT FSM               |IDLE                |
+--------------------------+--------------------+
</code></pre></li>
<li>
<p>Connecting</p>
<pre><code>SYSTEM FSM
==========
+--------------------------+--------------------+
|            FSM           |        STATE       |
+--------------------------+--------------------+
| RRC TOP FSM              |CONNECTING          |
| RRC SEARCH FSM           |CAMPED              |
| RRC ACTIVE FSM           |WAIT_SMC            |
| PMM PLMN FSM             |NORM_CAMPED         |
| EMM MAIN FSM             |REGISTERED_INIT     |
| EMM AUTH FSM             |WAITING_SIM_CONFIRM |
| EMM CONN FSM             |AS_ESTABLISHED      |
| EMM TAU FSM              |NULL                |
| EMM TEST FSM             |NULL                |
| ESM BEARER FSM           |BEARER_NULL_PENDING_ACTIVE|
| SMS MT FSM               |IDLE                |
| SMS MO FSM               |IDLE                |
| HP MAIN FSM              |IDLE                |
| HP USIM FSM              |READY               |
| HP SMS MO FSM            |IDLE                |
| HP SMS MT FSM            |IDLE                |
| HP CAT FSM               |IDLE                |
+--------------------------+--------------------+
</code></pre></li>
<li>
<p>Connected</p>
<pre><code>SYSTEM FSM
==========
+--------------------------+--------------------+
|            FSM           |        STATE       |
+--------------------------+--------------------+
| RRC TOP FSM              |CONNECTED           |
| RRC SEARCH FSM           |CAMPED              |
| RRC ACTIVE FSM           |CONNECTED           |
| PMM PLMN FSM             |NORM_CAMPED         |
| EMM MAIN FSM             |REGISTERED          |
| EMM AUTH FSM             |KASME_DEFINED       |
| EMM CONN FSM             |AS_ESTABLISHED      |
| EMM TAU FSM              |NULL                |
| EMM TEST FSM             |NULL                |
| ESM BEARER FSM           |BEARER_ACTIVE       |
| SMS MT FSM               |IDLE                |
| SMS MO FSM               |IDLE                |
| HP MAIN FSM              |IDLE                |
| HP USIM FSM              |READY               |
| HP SMS MO FSM            |IDLE                |
| HP SMS MT FSM            |IDLE                |
| HP CAT FSM               |IDLE                |
+--------------------------+--------------------+
</code></pre></li>
</ol>
<h3 id="full-fsm-log">Full FSM log</h3>
<p>In order to capture all state transitions in a log file during an attach, you can use this snippet:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#60a0b0;font-style:italic"># initiate the attach</span>
lte<span style="color:#666">.</span>attach()
<span style="color:#60a0b0;font-style:italic"># turn off debugging if it was turned on before</span>
<span style="color:#60a0b0;font-style:italic"># otherwise there is too much details/noise in the logfile</span>
lte<span style="color:#666">.</span>init(debug<span style="color:#666">=</span>False)
rsrpq <span style="color:#666">=</span> None
fsm <span style="color:#666">=</span> None
<span style="color:#007020;font-weight:bold">while</span> <span style="color:#007020;font-weight:bold">not</span> lte<span style="color:#666">.</span>isattached():
    rsrpq2 <span style="color:#666">=</span> lte<span style="color:#666">.</span>send_at_cmd(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">AT+CESQ</span><span style="color:#4070a0">&#39;</span>)<span style="color:#666">.</span>strip()
    <span style="color:#007020;font-weight:bold">if</span> rsrpq2 <span style="color:#666">!=</span> rsrpq:
        rsrpq <span style="color:#666">=</span> rsrpq2
        <span style="color:#007020;font-weight:bold">print</span>(time<span style="color:#666">.</span>time(), rsrpq)
    fsm2 <span style="color:#666">=</span> lte<span style="color:#666">.</span>send_at_cmd(<span style="color:#4070a0"></span><span style="color:#4070a0">&#39;</span><span style="color:#4070a0">AT!=</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">fsm</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">&#39;</span>)<span style="color:#666">.</span>strip()
    <span style="color:#007020;font-weight:bold">if</span> fsm <span style="color:#666">!=</span> fsm2:
        fsm<span style="color:#666">=</span>fsm2
        <span style="color:#007020;font-weight:bold">print</span>(time<span style="color:#666">.</span>time(), fsm)
    time<span style="color:#666">.</span>sleep(<span style="color:#40a070">0.1</span>)
<span style="color:#007020;font-weight:bold">print</span>(time<span style="color:#666">.</span>time(), <span style="color:#4070a0"></span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0">attached</span><span style="color:#4070a0">&#34;</span>)
</code></pre></div><h3 id="potential-other-errors">Potential other errors</h3>
<pre><code>* `OSError: [Errno 202] EAI_FAIL`: Check the data plan / SIM activation status on network
</code></pre>
<ul>
      
      </ul>
  </v-card-text>
</v-card>
<p>&nbsp;</p>







  
  
    
  
  

  
  
    
  
  

  
  
    
  
  
    
    
    
      
    
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
      
      
    
    
  

  
  
    
  
  
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
        
        
        
          
        
        
        
      
      
      
      
        
      
      
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
      
      
      
      
        
      
      
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
      
      
      
      
        
        
        
        
      
        
        
      <v-layout class="full-width  prev-next pa-2 mt-4 mb-0" styleZZ="background-color: #7800FF;">
  <v-flex xs6 class="ppurple">
  
  <v-btn class="ml-4" href="/tutorials/networks/lora/nvram/">Previous</v-btn>
  
  </v-flex>
  <v-flex xs6 class="text-xs-right">
  <v-btn class="mr-4 pbgpurple white--text"  href="/tutorials/networks/lte/power/">Next</v-btn>
    </v-flex>
</v-layout>

        
        
          
        
        
        
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
    
    
  

  
  
    
  
  
    
    
    
      
    
    
      
      
      
        
      
      
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
      
      
      
      
        
      
      
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
          
          
          
            
          
          
          
          
            
          
          
          
          
            
          
          
          
          
            
          
          
          
          
            
          
          
          
          
            
          
          
          
          
            
          
          
        
        
        
          
        
        
        
          
          
          
            
          
          
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
        
        
          
        
        
        
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
    
  

  
  
    
  
  
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
    
  

  
  
    
  
  
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
  

  
  
    
  
  
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
      
      
      
        
      
      
        
        
        
          
        
        
        
      
      
      
      
        
      
      
        
        
        
          
        
        
        
        
        
          
        
        
        
      
      
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
  

  
  
    
  
  
    
    
    
      
    
    
      
      
      
        
      
      
      
      
      
        
      
      
      
    
    
    
    
      
    
    
    
    
    
      
    
    
    
  

  
  
    
  
  
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
  

  
  
    
  
  
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
  

  
  
    
  
  
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
  

  
  
    
  
  
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
    
    
      
    
    
    
  

  
  
    
  
  


<v-spacer/>


          </v-container>
      </v-container>
    </v-content>
 </v-app>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vuetify/1.5.13/vuetify.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.5.1/vue-resource.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script>
    var development = false;
    var app = new Vue({
      el: '#app',
      data: {
        page: 1,
        pageCount: 0,
        error: null,
        results: null,
        drawer: true,
        drawer2: true,
        toc: 0,
        branches: [
        { value: 'https://docs.pycom.io', text: 'version stable'},
          { value: 'https://development.pycom.io', text: 'version development'},
          

        ],
        branch: ""
      },
      mounted: function () {
        
        this.branch= this.branches[0]
        for (b in this.branches) {
          if ( document.location.href.indexOf(this.branches[b].value) > -1) {
            this.branch= this.branches[b]
          }
        }
        
        
        if (this.$refs.tocBtn) {
          var elem = this.$refs.tocBtn.$el
          setTimeout(function () {
              elem.click();

          }, 3500);
        }
        var elem2 = document.getElementById("vuetify-theme-stylesheet");
        elem2.parentNode.removeChild(elem2);

      },
      watch: {
        
        branch: function (newb, old) {
          if (newb.value != this.branches[0].value) {
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            window.location = newb + window.location.pathname;
          }
        },
      },
    });

    
    docsearch({
      apiKey: 'a99fde9999fbec81c1772eb9ffcca488',
      indexName: 'pycom',
      inputSelector: '.algolia-search-field input',
      debug: false 
    });
  </script>
<script type="text/javascript">
_atrk_opts = { atrk_acct:"WpWNq1SZw320l9", domain:"pycom.io",dynamic: true};
(function() { var as = document.createElement('script'); as.type = 'text/javascript'; as.async = true; as.src = "https://certify-js.alexametrics.com/atrk.js"; var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(as, s); })();
</script>
<noscript><img src="https://certify.alexametrics.com/atrk.gif?account=WpWNq1SZw320l9" style="display:none" height="1" width="1" alt="" /></noscript>


<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1216663,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-72107804-3', 'auto');
ga('send', 'pageview');
</script>
</body>
</html>
